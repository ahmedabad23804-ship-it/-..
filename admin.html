<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… | Full Mark</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Cairo', sans-serif; background: #0f172a; color: white; padding: 20px; }
        .container { max-width: 600px; margin: auto; background: #1e293b; padding: 30px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.5); }
        input, select { width: 100%; padding: 12px; margin: 10px 0; background: #0f172a; border: 1px solid #334155; color: white; border-radius: 8px; box-sizing: border-box; }
        button { width: 100%; padding: 12px; background: #00bcd4; border: none; color: black; font-weight: bold; cursor: pointer; border-radius: 8px; font-size: 1rem; transition: 0.3s; }
        button:hover { background: #008ba3; }
        .success { color: #4ade80; text-align: center; margin-top: 10px; display: none; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <h2 style="text-align: center; color: #00bcd4;">Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ù†ØµØ© ğŸ”¥</h2>
    
    <h3>ğŸ” Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ø·Ø§Ù„Ø¨</h3>
    <input type="text" id="sName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨">
    <input type="text" id="sCode" placeholder="Ø§Ù„ÙƒÙˆØ¯ (Ù…Ø«Ù„Ø§Ù‹: 3030)">
    <select id="sLevel">
        <option value="1sec">Ø£ÙˆÙ„Ù‰ Ø«Ø§Ù†ÙˆÙŠ</option>
        <option value="2sec">ØªØ§Ù†ÙŠØ© Ø«Ø§Ù†ÙˆÙŠ</option>
        <option value="3sec">ØªØ§Ù„ØªØ© Ø«Ø§Ù†ÙˆÙŠ</option>
    </select>
    <button onclick="addStudent()">ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯ Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†</button>
    <div id="msg1" class="success">ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø·Ø§Ù„Ø¨ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø©! âœ…</div>

    <hr style="margin: 30px 0; opacity: 0.1;">

    <h3>ğŸ“º Ø¥Ø¶Ø§ÙØ© Ø¯Ø±Ø³ Ø¬Ø¯ÙŠØ¯</h3>
    <select id="vLevel">
        <option value="1sec">Ø£ÙˆÙ„Ù‰ Ø«Ø§Ù†ÙˆÙŠ</option>
        <option value="2sec">ØªØ§Ù†ÙŠØ© Ø«Ø§Ù†ÙˆÙŠ</option>
        <option value="3sec" selected>ØªØ§Ù„ØªØ© Ø«Ø§Ù†ÙˆÙŠ</option>
    </select>
    <select id="vSubject">
        <option value="physics">ÙÙŠØ²ÙŠØ§Ø¡</option>
        <option value="chemistry">ÙƒÙŠÙ…ÙŠØ§Ø¡</option>
        <option value="arabic">Ù„ØºØ© Ø¹Ø±Ø¨ÙŠØ©</option>
        <option value="biology">Ø£Ø­ÙŠØ§Ø¡</option>
    </select>
    <input type="text" id="vTitle" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯Ø±Ø³ (Ù…Ø«Ù„Ø§Ù‹: Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„ - Ø­1)">
    <input type="text" id="vId" placeholder="ÙƒÙˆØ¯ ÙÙŠØ¯ÙŠÙˆ Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨ (Video ID)">
    <button onclick="addVideo()">Ù†Ø´Ø± Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ù„Ù„Ù…Ù†ØµØ©</button>
    <div id="msg2" class="success">ØªÙ… Ù†Ø´Ø± Ø§Ù„Ø¯Ø±Ø³ Ø¨Ù†Ø¬Ø§Ø­! ğŸ“º</div>
</div>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getDatabase, ref, set, push } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

    // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø±Ø¨Ø· Ø¨Ø±Ø§Ø¨Ø· Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§ØªÙƒ
    const firebaseConfig = {
        databaseURL: "https://fullmark-2025-default-rtdb.firebaseio.com"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // Ø¯Ø§Ù„Ø© Ø¥Ø¶Ø§ÙØ© Ø·Ø§Ù„Ø¨
    window.addStudent = function() {
        const code = document.getElementById('sCode').value;
        const name = document.getElementById('sName').value;
        const level = document.getElementById('sLevel').value;

        if(!code || !name) return alert("Ø§Ù…Ø³Ø­ Ø§Ù„Ø®Ø§Ù†Ø§Øª Ø§Ù„ÙØ§Ø¶ÙŠØ©!");

        set(ref(db, 'students/' + code), {
            name: name,
            level: level,
            active: true
        }).then(() => {
            document.getElementById('msg1').style.display = 'block';
            setTimeout(() => document.getElementById('msg1').style.display = 'none', 3000);
        });
    }

    // Ø¯Ø§Ù„Ø© Ø¥Ø¶Ø§ÙØ© ÙÙŠØ¯ÙŠÙˆ
    window.addVideo = function() {
        const level = document.getElementById('vLevel').value;
        const sub = document.getElementById('vSubject').value;
        const title = document.getElementById('vTitle').value;
        const vid = document.getElementById('vId').value;

        if(!title || !vid) return alert("Ø£ÙƒÙ…Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙÙŠØ¯ÙŠÙˆ!");

        const videoRef = ref(db, 'content/' + level + '/' + sub);
        const newVideo = push(videoRef);
        set(newVideo, {
            title: title,
            youtubeId: vid
        }).then(() => {
            document.getElementById('msg2').style.display = 'block';
            setTimeout(() => document.getElementById('msg2').style.display = 'none', 3000);
        });
    }
</script>
</body>
</html>
