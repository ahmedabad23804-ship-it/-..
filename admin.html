<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø´Ø±Ù | FULL MARK</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');

        body {
            font-family: 'Cairo', sans-serif;
            background-color: #0f172a;
            color: white;
            padding: 20px;
            margin: 0;
        }

        .admin-container {
            max-width: 600px;
            margin: 30px auto;
            background-color: #1e293b;
            padding: 30px;
            border-radius: 15px;
            border: 1px solid #334155;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        h2 { text-align: center; color: #00bcd4; margin-bottom: 20px; }
        
        label { display: block; margin: 10px 0 5px; color: #cbd5e1; }
        
        input, select {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            background: #0f172a;
            border: 1px solid #475569;
            color: white;
            border-radius: 8px;
            font-family: 'Cairo', sans-serif;
            box-sizing: border-box;
        }

        button {
            width: 100%;
            padding: 12px;
            font-weight: bold;
            font-size: 16px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            margin-top: 10px;
            transition: 0.3s;
        }

        .btn-add { background-color: #22c55e; color: white; }
        .btn-add:hover { background-color: #16a34a; }

        .status-msg {
            text-align: center;
            margin-top: 15px;
            font-weight: bold;
            display: none;
        }
    </style>
</head>
<body>

    <div class="admin-container">
        <h2>ğŸ› ï¸ Ù„ÙˆØ­Ø© ØªÙØ¹ÙŠÙ„ Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø·Ù„Ø§Ø¨</h2>
        
        <label>Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨:</label>
        <input type="text" id="sName" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨ Ø±Ø¨Ø§Ø¹ÙŠ">

        <label>ÙƒÙˆØ¯ Ø§Ù„ÙƒØ§Ø±Øª:</label>
        <input type="text" id="sCode" placeholder="Ø±Ù‚Ù… Ø§Ù„ÙƒÙˆØ¯ (Ù…Ø«Ù„Ø§Ù‹: 5050)">

        <label>Ø§Ù„ØµÙ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ:</label>
        <select id="sLevel">
            <option value="1sec">Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</option>
            <option value="2sec">Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</option>
            <option value="3sec">Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</option>
        </select>

        <button class="btn-add" id="addBtn">âœ… ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯ Ù„Ù„Ø·Ø§Ù„Ø¨</button>
        <p class="status-msg" id="msg"></p>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ø´Ø±ÙˆØ¹Ùƒ
        const firebaseConfig = {
            apiKey: "AIzaSyD1QB3qaFfkGYq0OWOEAr83V25NAPFwxzs",
            authDomain: "fullmark-2025.firebaseapp.com",
            databaseURL: "https://fullmark-2025-default-rtdb.firebaseio.com",
            projectId: "fullmark-2025",
            storageBucket: "fullmark-2025.firebasestorage.app",
            messagingSenderId: "963956202032",
            appId: "1:963956202032:web:4df914457d79b75dee2bf5"
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        document.getElementById('addBtn').addEventListener('click', function() {
            const name = document.getElementById('sName').value;
            const code = document.getElementById('sCode').value;
            const level = document.getElementById('sLevel').value;
            const msg = document.getElementById('msg');

            if(name === "" || code === "") {
                alert("Ø§ÙƒØªØ¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ§Ù…Ù„Ø© ÙŠØ§ Ù‡Ù†Ø¯Ø³Ø©!");
                return;
            }

            // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            set(ref(db, 'students/' + code), {
                name: name,
                level: level,
                active: true,
                date: new Date().toISOString()
            })
            .then(() => {
                msg.style.display = 'block';
                msg.style.color = '#22c55e';
                msg.innerText = "ØªÙ… ØªÙØ¹ÙŠÙ„ ÙƒÙˆØ¯ Ø§Ù„Ø·Ø§Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰";
                
                // ØªÙØ±ÙŠØº Ø§Ù„Ø®Ø§Ù†Ø§Øª
                document.getElementById('sName').value = '';
                document.getElementById('sCode').value = '';
            })
            .catch((error) => {
                msg.style.display = 'block';
                msg.style.color = 'red';
                msg.innerText = "Ø­ØµÙ„ Ø®Ø·Ø£: " + error.message;
            });
        });
    </script>

</body>
</html>
